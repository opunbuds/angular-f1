angular.module("F1App",["ngRoute"]).config(["$routeProvider",function(r){r.when("/drivers",{templateUrl:"partials/drivers.html",controller:"driversController"}).when("/drivers/:id",{templateUrl:"partials/driver.html",controller:"detailController"}).otherwise({redirectTo:"/drivers"})}]),function(){"use strict";function r(r,e,t,n){r.id=e.id,r.races=[],r.driver=null,t.getDriverDetails(r.id).then(function(e){r.driver=e.MRData.StandingsTable.StandingsLists[0].DriverStandings[0]}),t.getDriverRaces(r.id).then(function(e){var t=e.MRData.RaceTable.Races;angular.forEach(t,function(e,t){n.getFlagByName(e.Circuit.Location.country).then(function(t){var n=angular.extend(e,{flag:t[0].flag});r.races.push(n)})})})}angular.module("F1App").controller("detailController",r),r.$inject=["$scope","$routeParams","apiService","flagService"]}(),function(){"use strict";function r(r,e,t){r.nameFilter=null,r.driversList=[],r.searchFilter=function(e){var t=new RegExp(r.nameFilter,"i");return!r.nameFilter||t.test(e.Driver.givenName)||t.test(e.Driver.familyName)},e.getDrivers().then(function(e){var n=e.MRData.StandingsTable.StandingsLists[0].DriverStandings;angular.forEach(n,function(e,n){t.getFlag(e.Driver.nationality).then(function(t){var n=angular.extend(e,{flag:t[0].flag});r.driversList.push(n)})})})}angular.module("F1App").controller("driversController",r),r.$inject=["$scope","apiService","flagService"]}(),function(){"use strict";function r(r){function e(){return r({method:"GET",url:"http://ergast.com/api/f1/2016/driverStandings.json"}).then(i,a("Error"))}function t(e){return r({method:"GET",url:"http://ergast.com/api/f1/2016/drivers/"+e+"/driverStandings.json"}).then(i,a("Error"))}function n(e){return r({method:"GET",url:"http://ergast.com/api/f1/2016/drivers/"+e+"/results.json"}).then(i,a("Error"))}function i(r){return r.data}function a(r){return function(){return{success:!1,message:r}}}var o={};return o.getDrivers=e,o.getDriverDetails=t,o.getDriverRaces=n,o}angular.module("F1App").service("apiService",r),r.$inject=["$http"]}(),function(){"use strict";function r(r){function e(e){return r({method:"GET",url:"https://restcountries.eu/rest/v2/demonym/"+e}).then(n,i("Error"))}function t(e){return r({method:"GET",url:"https://restcountries.eu/rest/v2/name/"+e}).then(n,i("Error"))}function n(r){return r.data}function i(r){return function(){return{success:!1,message:r}}}var a={};return a.getFlag=e,a.getFlagByName=t,a}angular.module("F1App").service("flagService",r),r.$inject=["$http"]}();